<!doctype html>
<html lang="zh">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>测试卡生成器</title>
    <link rel="stylesheet" href="style.css">
    <script defer src="script.js"></script>
</head>

<body>

    <div id="controls">
        <h1>电视测试卡生成器</h1>
        
        <h2>图案</h2>
        <p>
            <span class="btn" onclick="setPattern('black')" style="background:black">
            </span>
            <span class="btn" onclick="setPattern('gray50')" style="background:#808080">
            </span>
            <span class="btn" onclick="setPattern('darkblue')" style="background:#0023c0">
            </span>
            <span class="btn" onclick="setPattern('mauve')" style="background-image: url('imgs/mauve.svg')">
            </span>
            <span class="btn" onclick="setPattern('bars75')" style="background-image: url('imgs/bars75.svg')">
            </span>
            <span class="btn" onclick="setPattern('bars100')" style="background-image: url('imgs/bars100.svg')">
            </span>
            <span class="btn" onclick="setPattern('smpte')" style="background-image: url('imgs/smpte.svg')">
            </span>
            <span class="btn" onclick="setPattern('lines')" style="background-image: url('imgs/lines.svg')">
            </span>
            <span class="btn" onclick="setPattern('linesw')" style="background-image: url('imgs/linesw.svg')">
            </span>
            <span class="btn" onclick="setPattern('checkerboard')" style="background-image: url('imgs/checkerboard.svg')">
            </span>
            </span>
            <span class="btn" onclick="setPattern('PM5544')" style="background-image: url('imgs/PM5544.svg')">
            </span>
        </p>

        <h2>几何</h2>
        <p>
            <span class="btn" id="btn-circle" onclick="toggleOption('circle')"
                style="background-image: url('imgs/circle-btn.svg')">
            </span>
            <span class="btn" id="btn-circlew" onclick="toggleOption('circlew')"
                style="background-image: url('imgs/circlew-btn.svg')">
            </span>
            <span class="btn" id="btn-overscan" onclick="toggleOption('overscan')"
                style="background-image: url('imgs/overscan-btn.svg')">
            </span>
        </p>

        <h2>标签</h2>
        <p>
            <textarea id="label-widget" oninput="setLabel(this.value)" rows=5 cols=30></textarea>
        </p>

        <p>
            <span class="btn" id="btn-text" onclick="toggleOption('text')">
                文本
            </span>
            <span class="btn" id="btn-time" onclick="toggleOption('time')">
                时间
            </span>
            <span class="btn" id="btn-inverted" onclick="toggleOption('inverted')">
                反转
            </span>
            <span class="btn" id="btn-boxed" onclick="toggleOption('boxed')">
                加框
            </span>
            <span class="btn" id="btn-blink" onclick="toggleOption('blink')">
                闪烁
            </span>
        </p>
        <div id="instructions">
            <h3>使用说明</h3>
        <p>
            此工具可用于为视频输出或像 OBS 这样的工具生成测试图案。
        </p>
        <p>
            <strong>点击预览显示器</strong>或点击下方按钮，以全屏显示测试卡。再次点击可返回此页面。
        </p>
        <p><strong>复制全屏链接</strong>，并在 OBS 中添加一个浏览器源以显示您自定义的测试卡。</p>
        <p>
            <button onclick="toggleFullscreen()">全屏显示</button>
            <button onclick="copyFullscreenLink()">复制全屏链接</button>
        </p>
        </div>
    </div>

    <div id="preview">
        <p id="ratio-btns">
            <label>
                预览比例
                <button onclick="setPreviewWide(false)">4:3</button>
                <button onclick="setPreviewWide(true)">16:9</button>
            </label>
        </p>
        <canvas id="testcard" onclick="toggleFullscreen()" width=1920 height=1080>
        </canvas>
    </div>
    </div>
</body>

</html>